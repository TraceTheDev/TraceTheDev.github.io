<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact | Trace Davis</title>

  <!-- Load base and page-specific stylesheets -->
  <link rel="stylesheet" href="../css/global.css">
  <link rel="stylesheet" href="../css/contact.css">
</head>

<body>
  <!-- === Header Section === -->
  <header class="site-header">
    <div class="header-container">
      <!-- Logo that links to homepage -->
      <div class="logo">
        <a href="index.html">
          <img src="../resources/NewTLogo.png" alt="Logo">
        </a>
      </div>

      <!-- Navigation menu and hamburger icon -->
      <nav class="navbar">
        <div class="menu-toggle" id="mobile-menu">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <ul class="site-nav">
          <li><a href="about.html">About</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="resume.html">Resume</a></li>
          <li><a href="contact.html" class="active">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- === Main Content Section === -->
  <main>
    <section class="contact-section">
      <h2>Contact Me</h2>
      <p>I’d love to hear from you — whether you're hiring, collaborating, or just saying hey.</p>

      <!-- Contact form -->
      <form id="contactForm" class="contact-form">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="email" name="email" placeholder="Your Email" required>
        <textarea name="message" rows="5" placeholder="Your Message" required></textarea>

        <!-- Optional: Set subject, disable captcha -->
        <input type="hidden" name="_subject" value="New message from portfolio contact form!">
        <input type="hidden" name="_captcha" value="false">

        <button type="submit">Send Message</button>
      </form>

      <p class="alt-contact">
        You can also connect with me on
        <a href="https://discord.com/users/283300883335479296">Discord</a>.
      </p>
    </section>
  </main>

  <!-- === Success Popup === -->
  <div id="successPopup" class="popup hidden">
    <p>Message sent successfully!</p>
  </div>

  <!-- === Footer Section === -->
  <footer class="site-footer">
    <div class="footer-content">
      <p>
        <a href="mailto:trace.davis27@gmail.com">Email</a> |
          <a href="https://www.linkedin.com/in/trace-d-926380138/" target="_blank" rel="noopener noreferrer">LinkedIn</a> |
          <a href="https://github.com/TraceTheDev" target="_blank" rel="noopener noreferrer">GitHub</a> |
          <a href="https://open.kattis.com/users/trace-davis?tab=problems">Kattis</a> |
          <a href="https://leetcode.com/u/tracedavis/">LeetCode</a>
      </p>
      <p>&copy; <span id="year"></span> Designed & Built by Trace Davis</p>
    </div>
  </footer>

  <!-- === JavaScript Section === -->
  <script>
    // Dynamic year in footer
    document.getElementById("year").textContent = new Date().getFullYear();

    // Mobile nav toggle
    const menuToggle = document.getElementById('mobile-menu');
    const navList = document.querySelector('.site-nav');

    menuToggle.addEventListener('click', () => {
      navList.classList.toggle('active');
      menuToggle.classList.toggle('active');
    });

    // FormSubmit integration with custom popup
    document.getElementById('contactForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const form = e.target;
      const formData = new FormData(form);

      const response = await fetch("https://formsubmit.co/trace.davis27@gmail.com", {
        method: "POST",
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });

      if (response.ok) {
        document.getElementById("successPopup").classList.remove("hidden");
        form.reset();
        setTimeout(() => {
          document.getElementById("successPopup").classList.add("hidden");
        }, 3000);
      } else {
        alert("Something went wrong. Please try again.");
      }
    });
  </script>
</body>
</html>